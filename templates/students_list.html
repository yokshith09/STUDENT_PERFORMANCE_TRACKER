{% extends 'base.html' %}
{% block title %}Students{% endblock %}
{% block content %}
<h1 class="h2 mb-4">Students</h1>
<a href="{{ url_for('add_student') }}" class="btn btn-primary mb-3"><i class="bi bi-person-plus"></i> Add Student</a>
<table class="table table-hover">
  <thead><tr><th>Roll No</th><th>Name</th><th>Average</th><th>Actions</th></tr></thead>
  <tbody>
    {% for student in students %}
      <tr>
        <td>{{ student.roll_number }}</td>
        <td>{{ student.name }}</td>
        <td>{% if student.average() %}{{ "%.2f"|format(student.average()) }}{% else %}-{% endif %}</td>
        <td>
          <a href="{{ url_for('view_student', student_id=student.id) }}" class="btn btn-sm btn-primary">View</a>
          <a href="{{ url_for('add_grade') }}" class="btn btn-sm btn-secondary">Add Grade</a>
        </td>
      </tr>
    {% else %}
      <tr><td colspan="4" class="text-center">No students found.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}

